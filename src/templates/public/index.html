{% load staticfiles %}
<!DOCTYPE html>
<html ng-app="keepRunning" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Keep running</title>
    <link rel="stylesheet" href="{% static 'css/cerulean.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'lib/c3/c3.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'css/base.css' %}" type="text/css">
    {% block extra_css %}{% endblock extra_css %}
</head>
<body ng-controller="Main" ng-cloak>
    <div class="header-nav navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">{{ title }}</a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li ng-class="{'active': isMenuItemActive('me', true)}">
                        <a href="/">
                            <span class="fa fa-user icon"></span>
                            <span class="title">Me</span>
                        </a>
                    </li>
                    <li ng-class="{'active': isMenuItemActive('/new-activity')}">
                        <a href="#/new-activity">
                            <span class="fa fa-plus-circle icon"></span>
                            <span class="title">Add an activity</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div role="main" class="container">

        <div class="profile-header" ng-show="isMenuItemActive('me', true)">
            <div class="row">
                <div class="col-sm-3">
                    <h3>User name</h3>
                </div>

                <div class="col-sm-9">
                    <alert ng-repeat="message in messages"
                           type="[[message.type]]"
                           close="removeMessage($index)"
                           ng-bind="message.msg"></alert>

                    <ul class="nav nav-pills" role="tablist">
                        <li ng-class="{'active': isMenuItemActive('/')}">
                            <a class="text-center" href="/">
                                <span class="fa fa-dashboard icon"></span>
                                <span class="title">Dashboard</span>
                            </a>
                        </li>
                        <li ng-class="{'active': isMenuItemActive('/activities')}">
                            <a class="text-center" href="#/activities">
                                <span class="fa fa-calendar icon"></span>
                                <span class="title">Activities</span>
                            </a>
                        </li>
                        <li ng-class="{'active': isMenuItemActive('/import-data')}">
                            <a class="text-center" href="#/import-data">
                                <span class="fa fa-upload icon"></span>
                                <span class="title">Import data</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <hr/>
        </div>

        <ng-view></ng-view>

        <hr/>

        <footer>
            <p>&copy; Keep Running 2014</p>
        </footer>

    </div><!--/.container-->

    {% include 'public/js-templates.html' %}

    <script src="{% static 'lib/jquery/dist/jquery.min.js' %}"></script>
    <script src="{% static 'lib/bootstrap/dist/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'lib/underscore/underscore.js' %}"></script>
    <script src="{% static 'lib/d3/d3.min.js' %}"></script>
    <script src="{% static 'lib/c3/c3.min.js' %}"></script>
    <script src="{% static 'lib/moment/moment.js' %}"></script>
    <script src="{% static 'lib/moment-duration-format/lib/moment-duration-format.js' %}"></script>

    <script src="{% static 'lib/angular/angular.js' %}"></script>
    <script src="{% static 'lib/angular-resource/angular-resource.js' %}"></script>
    <script src="{% static 'lib/angular-route/angular-route.js' %}"></script>
    <script src="{% static 'lib/angular-bootstrap/ui-bootstrap-tpls.js' %}"></script>
    <script src="{% static 'lib/angular-moment/angular-moment.js' %}"></script>

    <script src="{% static 'js/app.js' %}"></script>

    <script src="{% static 'js/directives/barChart.js' %}"></script>
    <script src="{% static 'js/directives/datepicker.js' %}"></script>
    <script src="{% static 'js/directives/djangoForm.js' %}"></script>
    <script src="{% static 'js/directives/fileModel.js' %}"></script>
    <script src="{% static 'js/directives/pastDate.js' %}"></script>
    <script src="{% static 'js/directives/positiveInteger.js' %}"></script>

    <script src="{% static 'js/controllers/activities.js' %}"></script>
    <script src="{% static 'js/controllers/dashboard.js' %}"></script>
    <script src="{% static 'js/controllers/importData.js' %}"></script>
    <script src="{% static 'js/controllers/main.js' %}"></script>
    <script src="{% static 'js/controllers/newActivity.js' %}"></script>
    <script src="{% static 'js/controllers/updateActivity.js' %}"></script>

    <script src="{% static 'js/services/activityService.js' %}"></script>
    <script src="{% static 'js/services/momentService.js' %}"></script>

    {% block extra_js %}{% endblock extra_js %}

</body>
</html>
